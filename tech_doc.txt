Options stored in WP
====================
- Store name
- Shared secret
- Environment: integration / production
- Checkout option: combinedpage / classic
- Paymode: payonly, payplus, fullpay
- Payment method selection: true/false

Hard-coded settings
===================
- integration URL: https://test.ipg-online.com/connect/gateway/processing
- production URL: ???

Form fields
===========
txntype: sale | preauth | postauth | void - DAVE: which transactions should we support? I assume only "sale".
timezone: Europe/Berlin, Europe/London, etc. - read timezone from WP and convert to this textual format?
txndatetime: NOW in YYYY:MM:DD-hh:mm:ss format
hash_algorithm: SHA256
hash: hash(‘sha256’, bin2hex(storename . txndatetime . chargetotal . currency . sharedsecret));
storename: from option
mode: payonly | payplus | fullpay - for "classic" checkout option
chargetotal: number with comma or dot as decimal separator, has to be shipping + vattax + subtotal
currency: numeric ISO code, Euro - 978
checkoutoption: combinedpage | classic - from option
idealIssuerID: ??? - for iDEAL only, do we need it?
language: in locale format (en_US, en_GB), from WP???
mobileMode: true | false
oid: unique order ID, from WC???
paymentMethod: when selected by the customer in shop, needed???
responseFailURL:
responseSuccessURL:
shipping:
vattax:
subtotal:
item1, item2, item3...: id;description;quantity;item_total_price;sub_total;vat_tax;shipping (required for Klarna)
Klarna requires more fields!!! - needed?
MasterPass is also special
transactionNotificationURL: server to server callback


Extra fields
============
PAYONLY
- cardnumber: 12-24 digits
- expmonth: 2 digits
- expyear: 4 digits
- cvm: 3-4 digits

PAYPLUS
- bcompany
- bname
- baddr1
- baddr2
- bcity
- bstate
- bcountry
- bzip
- phone
- fax
- email

FULLPAY
- sname
- saddr1
- saddr2
- scity
- sstate
- scountry
- szip

Callback - in browser
=====================
approval_code: Y | N | ? - first character
oid
status: APPROVED | DECLINED | FAILED | WAITING
txndate_processed: transaction processed time
fail_reason
response_hash: hash(‘sha256’, bin2hex(sharedsecret . approval_code . chargetotal.+ currency . txndatetime . storename));
processor_response_code
fail_rc
terminal_id
ccbin
cccountry
ccbrand
+ billing/shipping fields

Callback - server to server
===========================
Same as in browser
notification_hash: hash(‘sha256’, bin2hex(chargetotal . sharedsecret . currency . txndatetime . storename . approval_code));
